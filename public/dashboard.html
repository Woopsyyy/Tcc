<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
<header>
<div class="head">
    <div class="logo"> <img src="/images/Talisay.jpg"> </div>

        
<div class="btn">

    <div class="links">
    <ul>
        <li> 
            <a href="home.html" target="x"> 
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="white" 
                    class="bi bi-house-door-fill" viewBox="0 0 16 16"> 
                        <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5"/>
                     </svg> 
                    </a>
                </li>
                <li> 
                    <a href="stats.html" target="x"> 
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="white" 
                            class="bi bi-person-circle" viewBox="0 0 16 16"> 
                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/> <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                            </svg> 
                        </a> 
                    </li>
                    <li>
                        <a href="records.html" target="x">
                            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="white" 
                                class="bi bi-archive-fill" viewBox="0 0 16 16">
                                     <path d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1M.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8z"/>
                                </svg> 
                            </a>
                        </li>
                        <li>
                            <a href="#" id="logoutLink">
                                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="white" class="bi bi-box-arrow-left" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"/>
                                        <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"/>
                                    </svg>
                                 </a>
                        </li>
                </ul> 
            </div>
        </div>
<div class="frame"> <iframe name="x"></iframe> </div>








   
                </div>
        </header>   
    <script>
      async function checkAuth() {
        try {
          const response = await fetch('/api/auth/verify');
          if (!response.ok) {
            window.location.href = '/';
          }
        } catch (err) {
          window.location.href = '/';
        }
      }
      checkAuth();

      document.getElementById('logoutLink').addEventListener('click', async (e) => {
        e.preventDefault();
        try {
          await fetch('/api/auth/logout', { method: 'POST' });
          window.location.href = '/';
        } catch (err) {
          window.location.href = '/';
        }
      });
    </script>
    </body>
</html>
